<p>
  <strong>タイトル：</strong>
  <%= @post.title %>
</p>

<p>
  <strong>内容：</strong>
  <%= @post.text %>
</p>

<h2>コメント</h2>

<%= render @post.comments %>

<% if false %>
  ↑このrenderがキモい。
  @post.commentsはcommentsが入ってるので、/comments/_comment.html.erbをみに行く。
  _comment.html.erbでは変数commentが使える。つまり以下と同値
  <% @post.comments.each do |comment| %>

    <p>
      <strong>コメンター：</strong>
      <%= comment.commentator %>
    </p>

    <p>
      <strong>コメント：</strong>
      <%= simple_format comment.body %>
    </p>
  <% end %>
<% end %>

<h2>コメントを追加</h2>
<%= form_for([@post, @post.comments.build]) do |f| %>
  <p>
    <%= f.label :commentator, "投稿者" %><br />
    <%= f.text_field :commentator %>
  </p>

  <p>
    <%= f.label :body, "コメント" %><br />
    <%= f.text_area :body, cols: 60, rows: 8 %>
  </p>

  <p>
    <%= f.submit "コメント投稿" %>
  </p>
<% end %>

<%= link_to '戻る', posts_path%>
| <%= link_to '編集', edit_post_path(@post) %>
